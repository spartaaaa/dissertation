import paho.mqtt.client as mqtt #import the client1
broker_address="192.168.137.254"
port = 1883
topic = "testTopic"
username = "qwerty"
password = "12qwerty21"
def connect_mqtt():
        def on_connect(client, userdata, flags, rc):
                if rc == 0:
                        print("Connected to MQTT Broker!")
                else:
                        print("Failed to connect, return code %d/n",rc)


print("creating new instance")
client = mqtt.Client("P1") #create new instance
print("connecting to broker")
client.connect(broker_address) #connect to broker
print("Subscribing to topic")
client.subscribe("testTopic")
print("Publishing message to topic")
client.publish("testTopic","OFF")
